# Patrick's Static Portfolio React App

## Commands

```bash
yarn            # Equivalent to 'yarn i' or 'yarn install'
yarn build      # Builds the production ready build
yarn dev        # For hot-reloading development session
yarn format     # For Prettier formatting
```

# Patrick's Static Portfolio

## 1. Certificate Set-up

### a. Generating Unsigned Certificates

```bash
# (From root of project)
cd deploy/ssl/
openssl req -x509 -out localhost.crt -keyout localhost.key -newkey rsa:2048 -nodes -sha256 -subj '/CN=localhost' -extensions EXT -config <( printf "[dn]\nCN=localhost\n[req]\ndistinguished_name = dn\n[EXT]\nsubjectAltName=DNS:localhost\nkeyUsage=digitalSignature\nextendedKeyUsage=serverAuth")
```

### b. Let's Encrypt (Certbot) Certificates

In order to generate certificates signed by a certificate authority, we suggest and have accomodated the use of Let's Encrypt (through the Certbot CLI). Other authorities can be used in place of Let's Encrypt with relative ease but this may require slightly more refactoring in the environment variable setting and retrieval.

Below is the suggest command for generating such a certificate and key within a Linux distribution. If you are using a Windows OS System, ensure that you have a WSL distribution installed/enabled. Bare in mind that keys and certificates generated by Let's Encrypt have a '.pem' extension. Simply change the extensions to '.key' and '.crt' respectively. You may also have to edit the certificate file by replacing BEGIN CERTIFICATE and END CERTIFICATE to BEGIN TRUSTED CERTIFICATE and END TRUSTED CERTIFICATE respectively.

Command Breakdown
certonly - This option tells certbot to obtain a certificate but not to install it. The certificate will be saved to the system for you to install manually.

--manual - Specifies that the DNS challenge will be handled manually. You will need to manually create DNS TXT records to prove domain ownership.

--preferred-challenges=dns - Indicates that the preferred challenge type is DNS. This is often used for wildcard certificates or when HTTP challenges are not possible or practical. (This is highly dependent on the domain set up itself).

--email - The flag to signal that the next token is the email address to be used for urgent renewal and security notices.

--server <https://acme-v02.api.letsencrypt.org/directory> - Specifies the ACME server endpoint for Let's Encrypt. The URL provided is the default endpoint for obtaining certificates from Let's Encryptâ€™s production environment.

-d - The flag to signal that the next token specifies the primary domain for which the certificate is being requested.

```bash
sudo certbot certonly --manual --preferred-challenges=dns --email <Your Email> --server <https://acme-v02.api.letsencrypt.org/directory> -d <The Deployed Domain/Subdomain> -d '*.<The Deployed Domain/Subdomain>'
```

## 2. Project Build Step

```bash
(sudo) docker-compose up -d --build
```

## 3. View Page

Head to ```localhost``` or ```<finalized domain>``` and check out the deployed version of the site!
